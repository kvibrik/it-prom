{"version":3,"sources":["webpack:///./src/views/Staff.vue?e1b0","webpack:///./src/components/User.vue?413a","webpack:///src/components/User.vue","webpack:///./src/components/User.vue?b1f5","webpack:///./src/components/User.vue","webpack:///./src/components/UserModal.vue?a27e","webpack:///src/components/UserModal.vue","webpack:///./src/components/UserModal.vue?7aff","webpack:///./src/components/UserModal.vue","webpack:///src/views/Staff.vue","webpack:///./src/views/Staff.vue?ba44","webpack:///./src/views/Staff.vue","webpack:///./src/components/UserModal.vue?d554","webpack:///./src/views/Staff.vue?1f99","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_l","user","name","index","key","departments","professions","on","onRemoveUser","onOpenModal","onChangeUser","closeModal","_e","staticRenderFns","_s","getFullName","getProfession","getDepartment","note","directives","rawName","modifiers","emitOpenModal","emitRemoveEvent","props","methods","$emit","computed","profession","prof","department","dep","component","onSubmit","model","value","userInfo","callback","$$v","$set","expression","onProfessionChange","selectedProf","onDepartmentChange","selectedDep","onCancel","type","Object","data","evt","preventDefault","professionId","departmentId","getDepartments","beforeMount","id","map","components","User","UserModal","openModal","changeUser","Math","random","firstName","secondName","lastName","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","$map","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn"],"mappings":"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","file":"js/chunk-40f113bd.b01e592c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BContainer',[_c('BRow',{staticClass:\"bg-secondary p-3 mt-5 text-white\"},[_c('BCol',{attrs:{\"cols\":\"3\"}},[_vm._v(\"ФИО\")]),_c('BCol',{attrs:{\"cols\":\"3\"}},[_vm._v(\"Профессия\")]),_c('BCol',{attrs:{\"cols\":\"2\"}},[_vm._v(\"Отдел\")]),_c('BCol',{attrs:{\"cols\":\"3\"}},[_vm._v(\"Примечание\")]),_c('BCol',{attrs:{\"cols\":\"1\"}})],1),_vm._l((_vm.staff),function(user,name,index){return _c('div',{key:index},[_c('User',{attrs:{\"user\":user,\"dep\":_vm.departments,\"prof\":_vm.professions},on:{\"removeUser\":_vm.onRemoveUser,\"openModal\":_vm.onOpenModal}})],1)}),(_vm.openModal)?_c('UserModal',{attrs:{\"user\":_vm.user,\"prof\":_vm.professions,\"dep\":_vm.departments},on:{\"changeUser\":_vm.onChangeUser,\"cancel\":_vm.closeModal}}):_vm._e(),_c('BButton',{staticClass:\"mt-4\",attrs:{\"variant\":\"success\"},on:{\"click\":_vm.onOpenModal}},[_vm._v(\"Добавить сотрудника\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BRow',{staticClass:\"pt-3 pb-3 border\"},[_c('BCol',{attrs:{\"cols\":\"3\"}},[_vm._v(_vm._s(_vm.getFullName))]),_c('BCol',{attrs:{\"cols\":\"3\"}},[_vm._v(_vm._s(_vm.getProfession))]),_c('BCol',{attrs:{\"cols\":\"2\"}},[_vm._v(_vm._s(_vm.getDepartment))]),_c('BCol',{attrs:{\"cols\":\"3\"}},[_vm._v(_vm._s(_vm.user.note))]),_c('BCol',{staticClass:\"h5\",attrs:{\"cols\":\"1\"}},[_c('BIconstack',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.user-modal\",modifiers:{\"user-modal\":true}}],staticClass:\"pointer\",attrs:{\"variant\":\"success\"},on:{\"click\":_vm.emitOpenModal}},[_c('BIcon',{attrs:{\"stacked\":\"\",\"icon\":\"pencil\"}}),_c('BIcon',{attrs:{\"stacked\":\"\",\"icon\":\"square\",\"scale\":\"1.2\"}})],1),_c('BIcon',{staticClass:\"ml-3 pointer\",attrs:{\"icon\":\"x-circle\",\"variant\":\"danger\"},on:{\"click\":_vm.emitRemoveEvent}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <BRow class=\"pt-3 pb-3 border\">\n    <BCol cols=3>{{getFullName}}</BCol>\n    <BCol cols=3>{{getProfession}}</BCol>\n    <BCol cols=2>{{getDepartment}}</BCol>\n    <BCol cols=3>{{user.note}}</BCol>\n    <BCol class=\"h5\" cols=1>\n      <BIconstack v-b-modal.user-modal class=\"pointer\" variant=\"success\" @click=\"emitOpenModal\">\n        <BIcon stacked icon=\"pencil\"></BIcon>\n        <BIcon stacked icon=\"square\" scale=\"1.2\"></BIcon>\n      </BIconstack>\n      <BIcon\n        class=\"ml-3 pointer\"\n        icon=\"x-circle\"\n        variant=\"danger\"\n        @click=\"emitRemoveEvent\"\n      ></BIcon>\n    </BCol>\n  </BRow>\n</template>\n\n<script>\n\nexport default {\n  name: 'User',\n  props: ['user', 'dep', 'prof'],\n  methods: {\n    emitRemoveEvent() {\n      this.$emit('removeUser', { id: this.user.id });\n    },\n    emitOpenModal() {\n      this.$emit('openModal', { id: this.user.id });\n    },\n  },\n  computed: {\n    getFullName() {\n      return `${this.user.name.lastName} ${this.user.name.firstName} ${this.user.name.secondName}`;\n    },\n    getProfession() {\n      const profession = this.user.professionId;\n      if (!profession) {\n        return '';\n      }\n      return this.prof[profession].name;\n    },\n    getDepartment() {\n      const department = this.user.departmentId;\n      if (!department) {\n        return '';\n      }\n      return this.dep[department].name;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=2573baf8&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2573baf8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-body\"},[_c('BForm',{staticClass:\"modal-content\",on:{\"submit\":_vm.onSubmit}},[_c('BFormGroup',{attrs:{\"label-cols-sm\":\"4\",\"label-cols-lg\":\"3\",\"label\":\"Фамилия\",\"label-for\":\"user-last\"}},[_c('BFormInput',{attrs:{\"id\":\"user-last\",\"required\":\"\"},model:{value:(_vm.userInfo.name.lastName),callback:function ($$v) {_vm.$set(_vm.userInfo.name, \"lastName\", $$v)},expression:\"userInfo.name.lastName\"}})],1),_c('BFormGroup',{attrs:{\"label-cols-sm\":\"4\",\"label-cols-lg\":\"3\",\"label\":\"Имя\",\"label-for\":\"user-firstname\"}},[_c('BFormInput',{attrs:{\"id\":\"user-firstname\",\"required\":\"\"},model:{value:(_vm.userInfo.name.firstName),callback:function ($$v) {_vm.$set(_vm.userInfo.name, \"firstName\", $$v)},expression:\"userInfo.name.firstName\"}})],1),_c('BFormGroup',{attrs:{\"label-cols-sm\":\"4\",\"label-cols-lg\":\"3\",\"label\":\"Отчество\",\"label-for\":\"user-secondname\"}},[_c('BFormInput',{attrs:{\"id\":\"user-secondname\",\"required\":\"\"},model:{value:(_vm.userInfo.name.secondName),callback:function ($$v) {_vm.$set(_vm.userInfo.name, \"secondName\", $$v)},expression:\"userInfo.name.secondName\"}})],1),_c('BFormGroup',{attrs:{\"label-cols-sm\":\"4\",\"label-cols-lg\":\"3\",\"label\":\"Профессия\",\"label-for\":\"user-prof\"}},[_c('BFormSelect',{attrs:{\"id\":\"user-prof\",\"options\":_vm.professions},on:{\"change\":_vm.onProfessionChange},model:{value:(_vm.selectedProf),callback:function ($$v) {_vm.selectedProf=$$v},expression:\"selectedProf\"}})],1),_c('BFormGroup',{attrs:{\"label-cols-sm\":\"4\",\"label-cols-lg\":\"3\",\"label\":\"Отдел\",\"label-for\":\"user-dep\"}},[_c('BFormSelect',{attrs:{\"id\":\"user-dep\",\"options\":_vm.departments},on:{\"change\":_vm.onDepartmentChange},model:{value:(_vm.selectedDep),callback:function ($$v) {_vm.selectedDep=$$v},expression:\"selectedDep\"}})],1),_c('BFormGroup',{attrs:{\"label-cols-sm\":\"4\",\"label-cols-lg\":\"3\",\"label\":\"Примечание\",\"label-for\":\"user-note\"}},[_c('BFormInput',{attrs:{\"id\":\"user-note\"},model:{value:(_vm.userInfo.note),callback:function ($$v) {_vm.$set(_vm.userInfo, \"note\", $$v)},expression:\"userInfo.note\"}})],1),_c('b-button',{staticClass:\"mb-2\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Сохранить\")]),_c('b-button',{attrs:{\"variant\":\"secondary\"},on:{\"click\":_vm.onCancel}},[_vm._v(\"Отмена\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal\">\n    <div class=\"modal-body\">\n      <BForm @submit=\"onSubmit\" class=\"modal-content\">\n        <BFormGroup label-cols-sm=\"4\" label-cols-lg=\"3\" label=\"Фамилия\" label-for=\"user-last\"\n        >\n          <BFormInput id=\"user-last\" v-model=\"userInfo.name.lastName\" required></BFormInput>\n        </BFormGroup>\n        <BFormGroup label-cols-sm=\"4\" label-cols-lg=\"3\" label=\"Имя\" label-for=\"user-firstname\"\n        >\n          <BFormInput id=\"user-firstname\" v-model=\"userInfo.name.firstName\" required></BFormInput>\n        </BFormGroup>\n        <BFormGroup label-cols-sm=\"4\" label-cols-lg=\"3\" label=\"Отчество\" label-for=\"user-secondname\"\n        >\n          <BFormInput id=\"user-secondname\" v-model=\"userInfo.name.secondName\" required></BFormInput>\n        </BFormGroup>\n        <BFormGroup label-cols-sm=\"4\" label-cols-lg=\"3\" label=\"Профессия\" label-for=\"user-prof\">\n          <BFormSelect\n            id=\"user-prof\"\n            v-model=\"selectedProf\"\n            :options=\"professions\"\n            @change=\"onProfessionChange\"\n          ></BFormSelect>\n        </BFormGroup>\n        <BFormGroup label-cols-sm=\"4\" label-cols-lg=\"3\" label=\"Отдел\" label-for=\"user-dep\">\n          <BFormSelect\n            id=\"user-dep\"\n            v-model=\"selectedDep\"\n            :options=\"departments\"\n            @change=\"onDepartmentChange\"\n          ></BFormSelect>\n        </BFormGroup>\n        <BFormGroup label-cols-sm=\"4\" label-cols-lg=\"3\" label=\"Примечание\" label-for=\"user-note\">\n          <BFormInput id=\"user-note\" v-model=\"userInfo.note\"></BFormInput>\n        </BFormGroup>\n        <b-button class=\"mb-2\" type=\"submit\" variant=\"primary\">Сохранить</b-button>\n        <b-button variant=\"secondary\" @click=\"onCancel\">Отмена</b-button>\n      </BForm>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserModal',\n  props: {\n    user: {\n      type: Object,\n      // required: true,\n    },\n    prof: {},\n    dep: {},\n  },\n  data: () => ({\n    userInfo: {},\n    selectedProf: null,\n    selectedDep: null,\n    professions: [],\n    departments: [],\n  }),\n  methods: {\n    onSubmit(evt) {\n      evt.preventDefault();\n      this.$emit('changeUser', { id: this.userInfo.id, user: this.userInfo });\n    },\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onProfessionChange() {\n      this.userInfo.professionId = this.selectedProf;\n    },\n    onDepartmentChange() {\n      this.userInfo.departmentId = this.selectedDep;\n    },\n  },\n  computed: {\n    getDepartments() {\n      return this.dep[this.user.departmentId].name;\n    },\n  },\n  beforeMount() {\n    const user = JSON.parse(JSON.stringify(this.user));\n    const profession = this.prof[user.professionId] || '';\n    const professions = Object.values(this.prof);\n    const department = this.dep[user.departmentId] || '';\n    const departments = Object.values(this.dep);\n\n    this.userInfo = user;\n    this.selectedProf = profession.id;\n    this.professions = professions.map((prof) => ({\n      value: prof.id,\n      text: prof.name,\n    }));\n    this.selectedDep = department.id;\n    this.departments = departments.map((prof) => ({\n      value: prof.id,\n      text: prof.name,\n    }));\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.modal {\n  display: block;\n  right: 0;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background-color: rgba(51, 51, 51, 0.6);\n  z-index: 1000;\n\n  &-body {\n    min-height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 10px;\n  }\n\n  &-content {\n    position: relative;\n    width: 100%;\n    max-width: 700px;\n    padding: 35px;\n    border-radius: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserModal.vue?vue&type=template&id=091dde0f&scoped=true&\"\nimport script from \"./UserModal.vue?vue&type=script&lang=js&\"\nexport * from \"./UserModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserModal.vue?vue&type=style&index=0&id=091dde0f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"091dde0f\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <BContainer>\n    <BRow class=\"bg-secondary p-3 mt-5 text-white\">\n      <BCol cols=3>ФИО</BCol>\n      <BCol cols=3>Профессия</BCol>\n      <BCol cols=2>Отдел</BCol>\n      <BCol cols=3>Примечание</BCol>\n      <BCol cols=1></BCol>\n    </BRow>\n    <div v-for=\"(user, name, index) in staff\" :key=\"index\">\n      <User\n        :user=\"user\"\n        :dep=\"departments\"\n        :prof=\"professions\"\n        @removeUser=\"onRemoveUser\"\n        @openModal=\"onOpenModal\"\n      />\n    </div>\n    <UserModal\n      :user=\"user\"\n      :prof=\"professions\"\n      :dep=\"departments\"\n      v-if=\"openModal\"\n      @changeUser=\"onChangeUser\"\n      @cancel=\"closeModal\"\n    />\n    <BButton class=\"mt-4\" variant=\"success\" @click=\"onOpenModal\">Добавить сотрудника</BButton>\n  </BContainer>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport User from '@/components/User.vue';\nimport UserModal from '@/components/UserModal.vue';\n\nexport default {\n  name: 'Staff',\n  components: {\n    User,\n    UserModal,\n  },\n  data: () => ({\n    user: {\n      id: Math.random(),\n      name: {\n        firstName: '',\n        secondName: '',\n        lastName: '',\n      },\n      professionId: '',\n      departmentId: '',\n      note: '',\n    },\n    openModal: false,\n  }),\n  computed: {\n    ...mapGetters('staff', ['staff']),\n    ...mapGetters('departments', ['departments']),\n    ...mapGetters('professions', ['professions']),\n  },\n  methods: {\n    ...mapActions('staff', ['removeUser', 'changeUser']),\n    async onRemoveUser({ id }) {\n      const isConfirmed = await this.$bvModal.msgBoxConfirm('Действительно удалить сотрудника?');\n      if (isConfirmed) {\n        this.removeUser(id);\n      }\n    },\n    onOpenModal({ id }) {\n      if (id) {\n        const user = this.staff[id];\n        this.user = user;\n      }\n      this.openModal = true;\n    },\n    onChangeUser(user) {\n      this.changeUser(user);\n      this.closeModal();\n    },\n    closeModal() {\n      this.openModal = false;\n      this.user = {\n        id: Math.random(),\n        name: {\n          firstName: '',\n          secondName: '',\n          lastName: '',\n        },\n        professionId: '',\n        departmentId: '',\n        note: '',\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  position: relative;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Staff.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Staff.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Staff.vue?vue&type=template&id=68780cf7&scoped=true&\"\nimport script from \"./Staff.vue?vue&type=script&lang=js&\"\nexport * from \"./Staff.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Staff.vue?vue&type=style&index=0&id=68780cf7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68780cf7\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=style&index=0&id=091dde0f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserModal.vue?vue&type=style&index=0&id=091dde0f&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Staff.vue?vue&type=style&index=0&id=68780cf7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Staff.vue?vue&type=style&index=0&id=68780cf7&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}